<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - Add Soccer Fixtures</title>
<style>
  body { font-family: Arial; background:#4e0506; color:white; padding:20px; }
  input, select, button { padding:10px; margin:5px 0; border-radius:5px; border:none; }
  button { background:white; color:#4e0506; font-weight:bold; cursor:pointer; }
  #loginForm, #fixtureForm { max-width:400px; margin:auto; }
</style>
</head>
<body>

<h1>Admin - Soccer Fixtures</h1>

<!-- Login form -->
<div id="loginDiv">
  <h2>Login</h2>
  <form id="loginForm">
    <input type="email" id="email" placeholder="Email" required><br>
    <input type="password" id="password" placeholder="Password" required><br>
    <button type="submit">Login</button>
  </form>
</div>

<!-- Fixture form -->
<div id="adminDiv" style="display:none;">
  <h2>Add Fixture</h2>
  <form id="fixtureForm">
    <input type="text" id="team1" placeholder="Team 1" required><br>
    <input type="text" id="team2" placeholder="Team 2" required><br>
    <input type="number" id="score1" placeholder="Team 1 Score" required><br>
    <input type="number" id="score2" placeholder="Team 2 Score" required><br>
    <input type="text" id="venue" placeholder="Venue" required><br>
    <input type="date" id="date" required><br>
    <button type="submit">Add Fixture</button>
  </form>
  <button id="logoutBtn">Logout</button>
</div>

<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDhl8-z01pNxtiL6kWwmla79OFzsOamHnA",
  authDomain: "kilimanjaro-28f6d.firebaseapp.com",
  projectId: "kilimanjaro-28f6d",
  storageBucket: "kilimanjaro-28f6d.appspot.com",
  messagingSenderId: "1034940817803",
  appId: "1:1034940817803:web:51be29aeff42e296870f8e"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Login form
const loginForm = document.getElementById('loginForm');
loginForm.addEventListener('submit', e => {
  e.preventDefault();
  const email = loginForm.email.value;
  const password = loginForm.password.value;
  auth.signInWithEmailAndPassword(email, password)
    .then(() => {
      loginForm.reset();
    })
    .catch(err => alert(err.message));
});

// Logout
document.getElementById('logoutBtn').addEventListener('click', () => {
  auth.signOut();
});

// Auth state change
auth.onAuthStateChanged(user => {
  if (user) {
    document.getElementById('loginDiv').style.display = 'none';
    document.getElementById('adminDiv').style.display = 'block';
  } else {
    document.getElementById('loginDiv').style.display = 'block';
    document.getElementById('adminDiv').style.display = 'none';
  }
});

// Fixture form
const fixtureForm = document.getElementById("fixtureForm");
fixtureForm.addEventListener("submit", e => {
  e.preventDefault();
  const fixture = {
    team1: fixtureForm.team1.value,
    team2: fixtureForm.team2.value,
    score1: parseInt(fixtureForm.score1.value),
    score2: parseInt(fixtureForm.score2.value),
    venue: fixtureForm.venue.value,
    date: new Date(fixtureForm.date.value)
  };
  db.collection("Fixtures").add(fixture)
    .then(() => {
      alert("Fixture added successfully!");
      fixtureForm.reset();
    })
    .catch(err => alert(err.message));
});
</script>

</body>
</html>
