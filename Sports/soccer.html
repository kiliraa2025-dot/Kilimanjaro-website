<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Soccer Fixtures - Kilimanjaro</title>
  <link rel="icon" href="images/kili_logo.png" type="image/png" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: Arial, sans-serif; background:#4e0506; color:white; position:relative; }
    body::before { content:""; position:absolute; top:0; left:0; width:100%; height:100%; backdrop-filter:blur(10px); background:rgba(128,0,0,0.5); z-index:-1; }

    #header { display:flex; justify-content:space-between; align-items:center; padding:10px 15px; background:rgba(255,255,255,0.1); }
    .hamburger { display:flex; flex-direction:column; justify-content:space-between; height:20px; cursor:pointer; }
    .hamburger span { width:25px; height:3px; background:white; }
    .logo-group { display:flex; align-items:center; gap:10px; }
    .logo-group img { height:40px; }
    .dropdown-menu { display:none; position:absolute; top:60px; left:15px; background:rgba(0,0,0,0.9); padding:10px; border-radius:5px; z-index:1000; }
    .dropdown-menu a { color:white; text-decoration:none; display:block; padding:8px 10px; }
    .dropdown-menu a:hover { background:rgba(255,255,255,0.1); }

    #title { text-align:center; margin-top:30px; }
    #title h1 { font-size:42px; }
    #title .kiliman { color:black; } #title .jaro { color:white; }
    #title p { font-size:18px; margin-top:10px; font-style:italic; }

    #fixtures { margin:40px 20px; text-align:center; }
    #fixtures h2 { font-size:28px; margin-bottom:20px; }
    .fixture { background:white; padding:20px; margin-bottom:20px; border-radius:10px; color:black; }
    .match-date { font-weight:bold; font-size:16px; }
    .venue { font-size:14px; margin-bottom:10px; }
    .teams { display:flex; justify-content:center; align-items:center; gap:15px; flex-wrap:wrap; }
    .team { font-weight:bold; white-space:nowrap; }
    .score { font-size:18px; font-weight:bold; }

    footer { background:rgba(0,0,0,0.7); padding:20px 15px; text-align:center; margin-top:40px; }
    footer a { color:white; margin:0 15px; font-size:24px; text-decoration:none; }
    footer a:hover { color:#d44638; }
    footer a.tiktok:hover { color:#00f2ea; }

    @media (max-width:600px) {
      #title h1 { font-size:28px; }
      #title p { font-size:14px; }
      .logo-group img { height:30px; }
      .teams { flex-direction:row; gap:10px; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <div id="header">
    <div class="hamburger" onclick="toggleMenu()"><span></span><span></span><span></span></div>
    <div class="logo-group"><img src="../images/kili_logo.png" alt="Kilimanjaro Logo"><img src="../images/uj_20_years.png" alt="UJ Logo"></div>
    <div class="dropdown-menu" id="dropdown-menu">
      <a href="../Index.html">Home</a>
      <a href="../About.html">About</a>
      <a href="../Facilities.html">Facilities</a>
      <a href="../Contact.html">Contact</a>
    </div>
  </div>

  <!-- Title -->
  <div id="title"><h1><span class="kiliman">KILIMAN</span><span class="jaro">JARO</span></h1><p>Soccer</p></div>

  <!-- Fixtures Section -->
  <section id="fixtures">
    <h2>Fixtures</h2>
    <div id="fixtures-list"></div>
  </section>

  <footer>
    <a href="https://www.instagram.com/kilimanjaro_residence_uj/" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.tiktok.com/@itsnotfar_afterall" target="_blank" class="tiktok"><i class="fab fa-tiktok"></i></a>
  </footer>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
     apiKey: "AIzaSyDhl8-z01pNxtiL6kWwmla79OFzsOamHnA",
     authDomain: "kilimanjaro-28f6d.firebaseapp.com",
     projectId: "kilimanjaro-28f6d",
     storageBucket: "kilimanjaro-28f6d.appspot.com",
     messagingSenderId: "1034940817803",
     appId: "1:1034940817803:web:51be29aeff42e296870f8e"
};
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const fixturesList = document.getElementById("fixtures-list");

    // Load fixtures dynamically
    db.collection("Fixtures").orderBy("date", "desc").onSnapshot(snapshot => {
      fixturesList.innerHTML = "";
      snapshot.forEach(doc => {
        const f = doc.data();
        const fixtureDiv = document.createElement("div");
        fixtureDiv.classList.add("fixture");
        fixtureDiv.innerHTML = `
          <p class="match-date">${new Date(f.date.seconds * 1000).toLocaleDateString()}</p>
          <p class="venue">${f.venue}</p>
          <div class="teams">
            <div class="team">${f.team1}</div>
            <div class="score">${f.score1} - ${f.score2}</div>
            <div class="team">${f.team2}</div>
          </div>
        `;
        fixturesList.appendChild(fixtureDiv);
      });
    });

    function toggleMenu() {
      const menu = document.getElementById("dropdown-menu");
      menu.style.display = menu.style.display === "block" ? "none" : "block";
    }
  </script>
</body>
</html>
